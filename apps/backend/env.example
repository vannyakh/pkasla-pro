# ============================================
# Environment Configuration
# ============================================
# This file serves as a template for environment variables.
# 
# The application supports environment-specific .env files:
# - .env.development (for development)
# - .env.production (for production)
# - .env (fallback/default)
# - .env.local (local overrides, should be in .gitignore)
#
# Priority: ENV_FILE > .env.{NODE_ENV} > .env
# ============================================

# ============================================
# Application Environment
# ============================================
# Options: 'development', 'test', 'production'
NODE_ENV=development

# Server Configuration
PORT=4000

# API Base URL (used for generating file URLs, webhooks, etc.)
# Development: http://localhost:4000
# Production: https://api.yourdomain.com
API_BASE_URL=http://localhost:4000

# CORS Configuration
# - Leave empty or unset: Only same-origin (recommended for production)
# - '*' : Allow all origins (development only)
# - 'https://example.com,https://app.example.com' : Specific origins (comma-separated)
# Development: '*' or 'http://localhost:3000'
# Production: 'https://yourdomain.com,https://app.yourdomain.com'
CORS_ORIGIN=*

# ============================================
# Database Configuration
# ============================================
# Development: mongodb://localhost:27017/somborkjobs
# Production: mongodb://user:password@host:27017/dbname?authSource=admin
MONGODB_URI=mongodb://localhost:27017/somborkjobs

# ============================================
# Logging Configuration
# ============================================
# Options: 'fatal', 'error', 'warn', 'info', 'debug', 'trace'
# Development: 'debug' or 'info'
# Production: 'info' or 'warn'
LOG_LEVEL=info

# ============================================
# JWT Configuration
# ============================================
# IMPORTANT: Change these secrets in production!
# Use strong, random secrets (minimum 32 characters recommended)
# Development: Can use simple values
# Production: MUST use strong, randomly generated secrets
JWT_ACCESS_SECRET=change-me-access-secret-minimum-32-characters-long
JWT_ACCESS_EXPIRES_IN=15m
JWT_REFRESH_SECRET=change-me-refresh-secret-minimum-32-characters-long
JWT_REFRESH_EXPIRES_IN=7d

# ============================================
# Session Configuration
# ============================================
# IMPORTANT: Change this secret in production!
# Must be at least 32 characters long
# Development: Can use simple value
# Production: MUST use strong, randomly generated secret
SESSION_SECRET=change-me-session-secret-minimum-32-characters-long

# ============================================
# Storage Configuration
# ============================================
# Options: 'local' or 'r2'
# Development: 'local' (files stored on disk)
# Production: 'r2' (Cloudflare R2) or 'local' (if using persistent storage)
STORAGE_PROVIDER=local

# Local storage path (only used when STORAGE_PROVIDER=local)
STORAGE_LOCAL_PATH=uploads

# ============================================
# Cloudflare R2 Configuration
# ============================================
# Only required when STORAGE_PROVIDER=r2
# Development: Usually not needed (use 'local')
# Production: Required for production deployments
# R2_ACCOUNT_ID=your-r2-account-id
# R2_ACCESS_KEY_ID=your-r2-access-key-id
# R2_SECRET_ACCESS_KEY=your-r2-secret-access-key
# R2_BUCKET_NAME=your-bucket-name
# R2_PUBLIC_URL=https://your-bucket.your-domain.com

# ============================================
# Redis Configuration
# ============================================
# Set to 'true' or '1' to enable Redis caching
# Development: Usually 'false' (optional)
# Production: 'true' (recommended for performance)
REDIS_ENABLED=false
REDIS_HOST=localhost
REDIS_PORT=6379
# REDIS_PASSWORD=your-redis-password
REDIS_DB=0
# Cache TTL in seconds (default: 3600 = 1 hour)
REDIS_TTL=3600

# ============================================
# Stripe Payment Configuration
# ============================================
# Development: Use test keys (sk_test_...)
# Production: Use live keys (sk_live_...)
# STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
# STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
# STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# ============================================
# Bakong KHQR Payment Configuration
# ============================================
# Development: Use 'sit' environment
# Production: Use 'production' environment
BAKONG_ACCESS_TOKEN=your_access_token_here
BAKONG_MERCHANT_ACCOUNT_ID=your_merchant_account_id
BAKONG_WEBHOOK_SECRET=your_webhook_secret
BAKONG_ENVIRONMENT=sit
# BAKONG_API_URL is optional - defaults based on BAKONG_ENVIRONMENT:
# - sit: https://sit-api-bakong.nbc.gov.kh
# - production: https://api-bakong.nbc.gov.kh
